<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- GitHub Pages alap URL csak online -->
  <script>
  (function() {
    if (location.hostname.includes('github.io')) {
      var base = document.createElement('base');
      base.href = 'https://akos581.github.io/tester/';
      document.head.appendChild(base);
    }
  })();
  </script>

  <title>Kapcsolat</title>

  <!-- Sötét mód előtöltés -->
  <script>
  (function() {
    try {
      var saved = localStorage.getItem('theme');
      var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (saved === 'dark' || (!saved && prefersDark)) {
        document.documentElement.classList.add('theme-dark');
      }
    } catch(e) {}
  })();
  </script>

  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/menu.css">
  <link rel="stylesheet" href="css/form.css">
</head>

<body>
  <div id="header"></div>

  <main>
    <h1>Kapcsolat</h1>
    <p>Ha kérdésed, észrevételed vagy javaslatod van, töltsd ki az alábbi űrlapot:</p>

    <form class="contact-form" action="send_email.php" method="POST">
      <label for="nev">Név</label>
      <input type="text" id="nev" name="nev" required>

      <label for="email">E-mail cím</label>
      <input type="email" id="email" name="email" required>

      <label for="uzenet">Üzenet</label>
      <textarea id="uzenet" name="uzenet" rows="6" required></textarea>

      <button type="submit">Küldés</button>
    </form>
  </main>

  <script>
    fetch('menu.html').then(r => {
      if (!r.ok) throw new Error('Nem sikerült betölteni a menüt: ' + r.status);
      return r.text();
    }).then(h => {
      document.getElementById('header').innerHTML = h;

      const currentPath = location.pathname.replace(/\/$/, '/index.html');
      document.querySelectorAll('#header a').forEach(a => {
        try {
          const href = a.getAttribute('href') || '';
          const resolved = new URL(href, location.href).pathname.replace(/\/$/, '/index.html');
          if (resolved === currentPath) a.setAttribute('aria-current', 'page');
        } catch(e) {}
      });

      const themeScript = document.createElement('script');
      themeScript.src = 'js/theme.js';
      document.body.appendChild(themeScript);

      const toggle = document.getElementById('menu-toggle');
      const nav = document.getElementById('nav-links');
      if (toggle && nav) {
        toggle.addEventListener('click', () => {
          nav.classList.toggle('open');
          toggle.setAttribute('aria-expanded', nav.classList.contains('open'));
        });
      }
    }).catch(console.error);
  </script