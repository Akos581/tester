<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kezdőlap</title>
  
  <!-- Sötét mód előtöltés -->
  <script>
  (function() {
    try {
      var saved = localStorage.getItem('theme');
      var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (saved === 'dark' || (!saved && prefersDark)) {
        document.documentElement.classList.add('theme-dark');
      }
    } catch(e) {}
  })();
  </script>

  <!-- Egységes CSS -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/menu.css">

</head>

<!-- Oldal leírása (SEO + Google) -->
<meta name="description" content="Érettségire felkészítő oldal történelem és földrajz tantárgyakhoz, feladatokkal és kvízekkel.">

<!-- Kulcsszavak (nem annyira fontos, de ártani nem árt) -->
<meta name="keywords" content="érettségi, történelem, földrajz, felkészítő, kvíz, tanulás">

<!-- Szerző -->
<meta name="author" content="Channel">

<!-- Keresőrobot beállítás -->
<meta name="robots" content="index, follow">

<body>
  <div id="header"></div>
  <main>
    <h1>Kezdőlap</h1>
    <p>Üdvözöllek az érettségire felkészítő oldalon. Válassz tantárgyat a menüből!</p>
  </main>

  <script>
    // Menü betöltése (RELATÍV útvonal)
    fetch('menu.html').then(r => {
      if (!r.ok) throw new Error('Nem sikerült betölteni a menüt: ' + r.status);
      return r.text();
    }).then(h => {
      document.getElementById('header').innerHTML = h;

      // Aktív menüpont jelölése
      const currentPath = location.pathname.replace(/\/$/, '/index.html');
      document.querySelectorAll('#header a').forEach(a => {
        try {
          const href = a.getAttribute('href') || '';
          const resolved = new URL(href, location.href).pathname.replace(/\/$/, '/index.html');
          if (resolved === currentPath) {
            a.setAttribute('aria-current', 'page');
          }
        } catch(e) {}
      });

      // Mobilmenü nyitás/zárás
      const toggle = document.getElementById('menu-toggle');
      const nav = document.getElementById('nav-links');
      if (toggle && nav) {
        toggle.addEventListener('click', () => {
          nav.classList.toggle('open');
          toggle.setAttribute('aria-expanded', nav.classList.contains('open'));
        });
      }

      // Téma váltó script betöltése
      const themeScript = document.createElement('script');
      themeScript.src = 'js/theme.js';
      document.body.appendChild(themeScript);

      // Countdown script betöltése és indítása
      const countdownScript = document.createElement('script');
      countdownScript.src = 'js/countdown.js';
      countdownScript.onload = () => {
        if (window.initExamCountdown) window.initExamCountdown();
      };
      document.body.appendChild(countdownScript);

    }).catch(err => {
      console.error(err);
    });
  </script>

<footer class="site-footer">
  <small>
    <a id="site-version" href="updates.html"></a>
  </small>
</footer>

<script src="js/version.js"></script>
</body>
</html>
