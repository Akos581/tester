<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kezdőlap</title>

  <!-- Sötét mód előtöltés -->
  <script>
  (function() {
    try {
      var saved = localStorage.getItem('theme');
      var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (saved === 'dark' || (!saved && prefersDark)) {
        document.documentElement.classList.add('theme-dark');
      }
    } catch(e) {}
  })();
  </script>

  <!-- Egységes CSS -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/menu.css">

</head>
<body>
  <div id="header"></div>

  <main>
    <h1>Kezdőlap</h1>
    <p>Üdvözöllek az érettségire felkészítő oldalon. Válassz tantárgyat a menüből!</p>
  </main>

  <script>
    // Menü betöltése
    fetch('/menu.html').then(r => r.text()).then(h => {
      document.getElementById('header').innerHTML = h;

      // Aktív menüpont jelölése
      const currentPath = location.pathname.replace(/\/$/, '/index.html');
      document.querySelectorAll('#header a').forEach(a => {
        if (a.pathname === currentPath) {
          a.setAttribute('aria-current', 'page');
        }
      });

      // Mobilmenü nyitás/zárás
      const toggle = document.getElementById('menu-toggle');
      const nav = document.getElementById('nav-links');
      if (toggle && nav) {
        toggle.addEventListener('click', () => {
          nav.classList.toggle('open');
          toggle.setAttribute('aria-expanded', nav.classList.contains('open'));
        });
      }

      // Téma váltó script betöltése
      const themeScript = document.createElement('script');
      themeScript.src = '/js/theme.js';
      document.body.appendChild(themeScript);
    });
  </script>
</body>
</html>
